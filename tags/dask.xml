<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Xdev (Posts about dask)</title><link>https://ncar.github.io/xdev/</link><description></description><atom:link href="https://ncar.github.io/xdev/tags/dask.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2020 UCAR Apache 2.0</copyright><lastBuildDate>Wed, 07 Oct 2020 02:37:12 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Writing multiple netCDF files in parallel with xarray and dask</title><link>https://ncar.github.io/xdev/posts/writing-multiple-netcdf-files-in-parallel-with-xarray-and-dask/</link><dc:creator>Anderson Banihirwe</dc:creator><description>&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;A typical computation workflow with xarray consists of:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;reading one or more netCDF files into an xarray dataset backed by dask using &lt;code&gt;xr.open_mfdataset()&lt;/code&gt; or &lt;code&gt;xr.open_dataset(chunks=...)&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;applying some transformation to the input dataset, and&lt;/li&gt;
&lt;li&gt;saving the resulting output to disk in a netCDF file using &lt;code&gt;xr.to_netcdf()&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The last step (3) can easily lead to a large netCDF file (&amp;gt;=10GB in size). As a result, this step can take a very long time to complete (since it is run in serial), and sometimes may hang. So, to avoid these issues one can use one of the lesser-used but helpful xarray capabilities: the &lt;a href="https://xarray.pydata.org/en/latest/generated/xarray.save_mfdataset.html"&gt;&lt;code&gt;xr.save_mfdataset()&lt;/code&gt;&lt;/a&gt; function. &lt;/p&gt;&lt;p&gt;&lt;a href="https://ncar.github.io/xdev/posts/writing-multiple-netcdf-files-in-parallel-with-xarray-and-dask/"&gt;Read more…&lt;/a&gt; (10 min remaining to read)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</description><category>dask</category><category>netcdf</category><category>xarray</category><guid>https://ncar.github.io/xdev/posts/writing-multiple-netcdf-files-in-parallel-with-xarray-and-dask/</guid><pubDate>Mon, 29 Jun 2020 19:55:46 GMT</pubDate></item></channel></rss>